(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(9),c=n.n(s),a=n(4),r=n(3),o=n(2),i=n.n(o),l=n(1),u=n(5),j=n.n(u),d=(n(15),n(16),n(17),n(0)),b=function(e){var t=e.postsList,n=e.selectedPostId,s=e.downLoadComments,c=e.downloadPostDetails;return Object(d.jsxs)("div",{className:"PostsList",children:[Object(d.jsx)("h2",{children:"Posts:"}),Object(d.jsx)("p",{children:"Count posts: ".concat(t.length)}),Object(d.jsx)("ul",{className:"PostsList__list",children:t.map((function(e){return Object(d.jsxs)("li",{className:j()("PostsList__item",{"PostsList__item--active":e.id===n}),"data-cy":"postDetails",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"[User #".concat(e.userId,"]: ")}),Object(d.jsx)("strong",{children:e.title}),":",Object(d.jsx)("br",{}),e.body]}),Object(d.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return t=e.id,s(t),void c(t);var t},children:n===e.id?"Close":"Open"})]},e.id)}))})]})},p=(n(19),function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)("div",{className:"Loader__content"})})}),m=n(6),h=n(8),O="https://mate.academy/students-api",x=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(O).concat(t)),e.next=3,fetch("".concat(O).concat(t));case 3:if((s=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject("".concat(s.status," - ").concat(s.statusText)));case 6:if(null!==(n=s.headers.get("content-type"))&&void 0!==n&&n.includes("application/json")){e.next=8;break}return e.abrupt("return",Promise.reject("Content-type is not supported"));case 8:return e.abrupt("return",s.json());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return x("All"===e?"/posts":"/posts?userId=".concat(e))},v=function(e){return x("/posts/".concat(e))},_=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(O,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(n(20),function(e){var t={postId:e.postId,name:"",email:"",body:""},n=Object(l.useState)(t),s=Object(r.a)(n,2),c=s[0],a=s[1],o=function(e){a(Object(h.a)(Object(h.a)({},c),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("form",{className:"NewCommentForm",method:"POST",onSubmit:function(e){e.preventDefault(),_(c),a(t)},children:[Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",value:c.name,onChange:o})}),Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",value:c.email,onChange:o})}),Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input NewCommentForm__input--textarea",value:c.body,onChange:o})}),Object(d.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})}),y=(n(21),function(e){var t=e.postComments,n=e.postDetails,s=Object(l.useState)(!0),c=Object(r.a)(s,2),a=c[0],o=c[1],i=t.length,u=!n.title,j=!t;return Object(d.jsxs)("div",{className:"PostDetails",children:[Object(d.jsx)("h2",{children:"Post details:"}),Object(d.jsxs)("section",{className:"PostDetails__post",children:[u&&Object(d.jsx)(p,{}),Object(d.jsx)("p",{children:n.title})]}),Object(d.jsxs)("section",{className:"PostDetails__comments",children:[j&&Object(d.jsx)(p,{}),Object(d.jsx)("button",{type:"button",className:"PostDetails__button button",onClick:function(){return o(!a)},children:a?"Hide ".concat(i," comments"):"Show comments"}),a&&Object(d.jsx)("ul",{className:"PostDetails__list","data-cy":"postList",children:t.map((function(e){return Object(d.jsxs)("li",{className:"PostDetails__list-item",children:[Object(d.jsx)("button",{type:"button",className:"PostDetails__remove-button button",formMethod:"DELETE",children:"X"}),Object(d.jsx)("p",{children:e.body})]},e.id)}))})]}),Object(d.jsx)("section",{children:Object(d.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(d.jsx)(N,{postId:n.id})})})]})}),w={id:"",userId:"",title:"",body:"",createdAt:"",updatedAt:""},P=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(l.useState)(""),o=Object(r.a)(c,2),u=o[0],m=o[1],h=Object(l.useState)(""),O=Object(r.a)(h,2),_=O[0],N=O[1],P=Object(l.useState)(w),C=Object(r.a)(P,2),D=C[0],k=C[1],L=Object(l.useState)([]),g=Object(r.a)(L,2),S=g[0],A=g[1],I=Object(l.useState)(!1),F=Object(r.a)(I,2),T=F[0],E=F[1],U=Object(l.useState)(!1),G=Object(r.a)(U,2),J=G[0],B=G[1],H=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),e.prev=1,u===t){e.next=11;break}return e.next=5,f(t);case 5:n=e.sent,N(""),k(w),m(t),s(n),E(!1);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),E(!1),console.log("error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,console.log(t),e.next=5,v(t);case 5:n=e.sent,k(n),B(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),B(!1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==t){e.next=4;break}N(""),e.next=9;break;case 4:return e.next=6,x("/comments?postId=".concat(t));case 6:n=e.sent,N(t),A(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App__header",children:Object(d.jsxs)("label",{children:["Select a user: \xa0",Object(d.jsxs)("select",{className:"App__user-selector",defaultValue:"DEFAULT",onChange:function(e){return H(e.target.value)},children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Choose..."}),Object(d.jsx)("option",{value:"All",children:"All users"}),Object(d.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(d.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(d.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(d.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(d.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(d.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(d.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(d.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(d.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(d.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})}),Object(d.jsxs)("main",{className:"App__main",children:[u&&Object(d.jsx)("div",{className:"App__sidebar",children:T?Object(d.jsx)(p,{}):Object(d.jsx)(b,{postsList:n,selectedPostId:_,downloadPostDetails:M,downLoadComments:R})}),Object(d.jsx)("div",{className:j()("App__content",{"App__content--hidden":!_}),children:J?Object(d.jsx)("div",{children:Object(d.jsx)(p,{})}):Object(d.jsx)(y,{postComments:S,postDetails:D})})]})]})};c.a.render(Object(d.jsx)(P,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.0e3923ba.chunk.js.map