{"version":3,"sources":["api/request.ts","api/posts.ts","components/Loader/Loader.tsx","components/PostsList/PostsList.tsx","api/comments.ts","components/NewCommentForm/NewCommentForm.tsx","components/PostDetails/PostDetails.tsx","api/users.ts","App.tsx","index.tsx"],"names":["BASE_URL","request","url","a","options","method","console","log","fetch","response","ok","Promise","reject","status","statusText","json","getPostDetails","postId","Loader","className","PostsList","currentUserId","selectedPostId","setSelectedPostId","useState","postsList","setPostsList","showLoaderPostsList","setShowLoaderPostsList","loadPostList","userId","posts","useEffect","classNames","length","map","post","id","title","body","type","onClick","createComment","newComment","data","JSON","stringify","headers","deleteComment","commentId","NewCommentForm","loadPostDetails","initialNewComment","name","email","setNewComment","showErrorInput","setShowErrorInput","inputChangeHandler","event","target","value","validateInputHandler","onSubmit","preventDefault","then","placeholder","onChange","onBlur","rows","wrap","PostDetails","React","memo","postComments","setPostComments","postDetails","setPostDetails","showComments","setShowComments","showLoaderPostsDetails","setShowLoaderPostsDetails","counterComments","all","commentsFromServer","postDetailsFromServer","comment","formMethod","currentPostId","getUsers","App","users","setUsers","showLoaderUsers","setShowLoaderUsers","setCurrentUserId","loadUsersFromServer","usersFromServer","defaultValue","e","disabled","user","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2640c05.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate.academy/students-api';\n\ntype RequestOptionsType = {\n  method: 'GET' | 'POST' | 'DELETE';\n  headers?: { 'Content-type': 'application/json; charset=utf-8' };\n  body?: string;\n};\n\nexport const request = async (\n  url: string,\n  options: RequestOptionsType = {\n    method: 'GET',\n  },\n) => {\n  // eslint-disable-next-line no-console\n  console.log(`request to: ${BASE_URL}${url}`);\n\n  // eslint-disable-next-line no-console\n  console.log('request options:', options);\n\n  const response = await fetch(`${BASE_URL}${url}`, options);\n\n  if (!response.ok) {\n    // eslint-disable-next-line prefer-promise-reject-errors\n    return Promise.reject(\n      `${response.status} - ${response.statusText}`,\n    );\n  }\n\n  return response.json();\n};\n","import { request } from './request';\n\nexport const getUserPosts = (userId: string) => request(\n  (userId === 'All') ? '/posts' : `/posts?userId=${userId}`,\n);\n\nexport const getPostDetails = (postId: string | null) => request(`/posts/${postId}`);\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import classNames from 'classnames';\nimport React, { useEffect, useState } from 'react';\nimport { getUserPosts } from '../../api/posts';\nimport { Loader } from '../Loader';\nimport './PostsList.scss';\n\ntype Props = {\n  currentUserId: string;\n  setSelectedPostId: (postId: string | null) => void;\n  selectedPostId: string | null;\n};\n\nexport const PostsList: React.FC<Props> = ({\n  currentUserId,\n  selectedPostId,\n  setSelectedPostId,\n}) => {\n  const [postsList, setPostsList] = useState([]);\n  const [showLoaderPostsList, setShowLoaderPostsList] = useState(false);\n\n  const loadPostList = async () => {\n    setShowLoaderPostsList(true);\n\n    try {\n      const posts = await getUserPosts(currentUserId);\n\n      setPostsList(posts);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log('error', error);\n    } finally {\n      setShowLoaderPostsList(false);\n    }\n  };\n\n  useEffect(() => {\n    setSelectedPostId(null);\n\n    loadPostList();\n  },\n  [currentUserId]);\n\n  const postsListHandle = (postId: string) => {\n    if (selectedPostId && postId === selectedPostId) {\n      setSelectedPostId(null);\n    } else if (selectedPostId && postId !== selectedPostId) {\n      setSelectedPostId(postId);\n    } else {\n      setSelectedPostId(postId);\n    }\n  };\n\n  return (\n    <div className={classNames('PostsList',\n      { 'PostsList--empty': !currentUserId })}\n    >\n      <h2>Posts:</h2>\n      {showLoaderPostsList ? (\n        <Loader />\n      ) : (\n        <>\n          <p>{`Count posts: ${postsList.length}`}</p>\n\n          <ul className=\"PostsList__list\">\n            {postsList.map((post: PostType) => (\n              <li\n                key={post.id}\n                className={classNames('PostsList__item',\n                  { 'PostsList__item--active': (post.id === selectedPostId) })}\n                data-cy=\"postDetails\"\n              >\n                <div>\n                  <strong>{post.title}</strong>\n                  :\n                  <br />\n                  {`${post.body}`}\n                </div>\n\n                <button\n                  type=\"button\"\n                  className=\"PostsList__button button\"\n                  onClick={() => postsListHandle(post.id)}\n                >\n                  {(selectedPostId === post.id) ? 'Close' : 'Open'}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n","import {\n  request,\n} from './request';\n\nexport const getPostComments = (postId: string | null) => request(\n  `/comments?postId=${postId}`,\n);\n\nconst post = (url: string, data: NewCommentType) => {\n  // eslint-disable-next-line no-console\n  console.log('POST data', JSON.stringify(data));\n\n  return request(url, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify(data),\n  });\n};\n\nexport const createComment = (newComment : NewCommentType) => {\n  return post('/comments', newComment);\n};\n\nconst remove = (url: string) => {\n  return request(url, {\n    method: 'DELETE',\n  });\n};\n\nexport const deleteComment = (commentId: string) => {\n  // eslint-disable-next-line no-console\n  console.log('delete commentId = ', commentId);\n\n  return remove(`/comments/${commentId}`);\n};\n","import React, { useEffect, useState } from 'react';\nimport { createComment } from '../../api/comments';\nimport './NewCommentForm.scss';\n\ntype Props = {\n  selectedPostId: string | null;\n  loadPostDetails: () => void;\n};\n\nexport const NewCommentForm: React.FC<Props> = ({\n  selectedPostId,\n  loadPostDetails,\n}) => {\n  const initialNewComment: NewCommentType = {\n    postId: selectedPostId,\n    name: '',\n    email: '',\n    body: '',\n  };\n\n  const [\n    newComment,\n    setNewComment,\n  ] = useState<NewCommentType>(initialNewComment);\n\n  const [showErrorInput, setShowErrorInput] = useState<{\n    name: boolean;\n    email: boolean;\n    body: boolean;\n  }>({\n    name: false,\n    email: false,\n    body: false,\n  });\n\n  useEffect(() => {\n    setNewComment(initialNewComment);\n  },\n  [\n    selectedPostId,\n  ]);\n\n  const inputChangeHandler = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    setNewComment({\n      ...newComment,\n      [event.target.name]: event.target.value,\n    });\n\n    setShowErrorInput({\n      ...showErrorInput,\n      [event.target.name]: false,\n    });\n  };\n\n  const validateInputHandler = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    if (event.target.value.length === 0) {\n      setShowErrorInput({\n        ...showErrorInput,\n        [event.target.name]: true,\n      });\n    }\n  };\n\n  const newCommentFormSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    setShowErrorInput({\n      name: (newComment.name.length === 0),\n      email: (newComment.email.length === 0),\n      body: (newComment.body.length === 0),\n    });\n\n    if ((newComment.name.length > 0)\n    && (newComment.email.length > 0)\n    && (newComment.body.length > 0)) {\n      createComment(newComment).then(() => loadPostDetails());\n      setNewComment(initialNewComment);\n      setShowErrorInput({\n        name: false,\n        email: false,\n        body: false,\n      });\n    }\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      method=\"POST\"\n      onSubmit={newCommentFormSubmit}\n    >\n      <div className=\"NewCommentForm__form-field\">\n\n        <p className=\"NewCommentForm__error\">\n          {showErrorInput.name ? 'Please enter a name' : ' '}\n        </p>\n\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder={showErrorInput.name ? '' : 'Your name'}\n          className=\"NewCommentForm__input\"\n          value={newComment.name}\n          onChange={inputChangeHandler}\n          onBlur={(event) => validateInputHandler(event)}\n        />\n      </div>\n\n      <div className=\"NewCommentForm__form-field\">\n        {showErrorInput.email && (\n          <p className=\"NewCommentForm__error\">Please enter an email</p>\n        )}\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder={showErrorInput.email ? '' : 'Your email'}\n          className=\"NewCommentForm__input\"\n          value={newComment.email}\n          onChange={inputChangeHandler}\n          onBlur={(event) => validateInputHandler(event)}\n        />\n      </div>\n\n      <div className=\"NewCommentForm__form-field\">\n        {showErrorInput.body && (\n          <p className=\"NewCommentForm__error NewCommentForm__error--text-area\">\n            Please enter a comment\n          </p>\n        )}\n        <textarea\n          name=\"body\"\n          placeholder={showErrorInput.body ? '' : 'Type comment here'}\n          className=\"NewCommentForm__input NewCommentForm__input--text-area\"\n          value={newComment.body}\n          onChange={inputChangeHandler}\n          onBlur={(event) => validateInputHandler(event)}\n          rows={3}\n          wrap=\"hard\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { deleteComment, getPostComments } from '../../api/comments';\nimport { getPostDetails } from '../../api/posts';\nimport { Loader } from '../Loader';\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\n\ntype Props = {\n  selectedPostId: string | null;\n  setSelectedPostId: (postId: string | null) => void;\n};\n\nexport const PostDetails: React.FC<Props> = React.memo(({\n  selectedPostId,\n  setSelectedPostId,\n}) => {\n  // eslint-disable-next-line no-console\n  console.log('render PostDetails');\n\n  const [postComments, setPostComments] = useState([]);\n  const [postDetails, setPostDetails] = useState<PostDetailsType | null>(null);\n  const [showComments, setShowComments] = useState(true);\n  const [showLoaderPostsDetails, setShowLoaderPostsDetails] = useState(false);\n\n  const counterComments = postComments.length;\n\n  const loadPostDetails = async () => {\n    setShowLoaderPostsDetails(true);\n\n    try {\n      const [commentsFromServer, postDetailsFromServer] = await Promise.all([\n        getPostComments(selectedPostId),\n        getPostDetails(selectedPostId),\n      ]);\n\n      setPostComments(commentsFromServer);\n      setPostDetails(postDetailsFromServer);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log('error', error);\n    } finally {\n      setShowLoaderPostsDetails(false);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedPostId) {\n      loadPostDetails();\n    }\n  },\n  [\n    selectedPostId,\n  ]);\n\n  const onDeleteButton = (commentId: string) => {\n    deleteComment(commentId).then(() => {\n      const currentPostId = selectedPostId;\n\n      setSelectedPostId(null);\n      setSelectedPostId(currentPostId);\n    });\n  };\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      {postDetails && (\n        <section className=\"PostDetails__post\">\n          <strong>{`${postDetails.title}`}</strong>\n          <p>{postDetails.body}</p>\n        </section>\n      )}\n\n      {showLoaderPostsDetails ? (\n        <Loader />\n      ) : (\n        <section className=\"PostDetails__comments\">\n          {(counterComments > 0) && (\n            <button\n              type=\"button\"\n              className=\"PostDetails__button button\"\n              onClick={() => setShowComments(!showComments)}\n            >\n              { showComments\n                ? `Hide ${counterComments} comments`\n                : 'Show comments' }\n            </button>\n          )}\n\n          { showComments && (\n            <ul\n              className=\"PostDetails__list\"\n              data-cy=\"postList\"\n            >\n              {postComments.map((comment: CommentType) => (\n                <li\n                  key={comment.id}\n                  className=\"PostDetails__list-item\"\n                >\n                  <button\n                    type=\"button\"\n                    className=\"PostDetails__remove-button button\"\n                    formMethod=\"DELETE\"\n                    onClick={() => onDeleteButton(comment.id)}\n                  >\n                    X\n                  </button>\n                  <p>\n                    <strong>{comment.name ? `${comment.name}: ` : 'noname: '}</strong>\n                    {comment.body}\n                  </p>\n                </li>\n              ))}\n            </ul>\n          )}\n        </section>\n      )}\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            selectedPostId={selectedPostId}\n            loadPostDetails={loadPostDetails}\n          />\n        </div>\n      </section>\n    </div>\n  );\n});\n","import { request } from './request';\n\nexport const getUsers = (userId = '') => request(`/users${userId}`);\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { getUsers } from './api/users';\nimport { Loader } from './components/Loader';\n\nconst App: React.FC = () => {\n  const [users, setUsers] = useState([]);\n  const [showLoaderUsers, setShowLoaderUsers] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState('All');\n  const [selectedPostId, setSelectedPostId] = useState<string | null>(null);\n\n  const loadUsersFromServer = async () => {\n    setShowLoaderUsers(true);\n\n    try {\n      const usersFromServer = await getUsers();\n\n      setUsers(usersFromServer);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log('error', error);\n    } finally {\n      setShowLoaderUsers(false);\n    }\n  };\n\n  useEffect(() => {\n    loadUsersFromServer();\n  },\n  []);\n\n  const selectUserHandler = (userId: string) => {\n    setCurrentUserId(userId);\n  };\n\n  return (\n    <div className=\"App\">\n      {showLoaderUsers ? (\n        <Loader />\n      ) : (\n        <header className=\"App__header\">\n          <label>\n            Select a user: &nbsp;\n\n            <select\n              className=\"App__user-selector\"\n              defaultValue=\"All\"\n              onChange={e => selectUserHandler(e.target.value)}\n            >\n              <option value=\"DEFAULT\" disabled>Choose...</option>\n              <option value=\"All\">All users</option>\n              {users.map((user : UserType) => (\n                <option\n                  key={user.id}\n                  value={user.id}\n                >\n                  {user.name}\n                </option>\n              ))}\n            </select>\n          </label>\n        </header>\n      )}\n\n      <main className=\"App__main\">\n        {currentUserId && (\n          <div className=\"App__sidebar\">\n            <PostsList\n              currentUserId={currentUserId}\n              selectedPostId={selectedPostId}\n              setSelectedPostId={setSelectedPostId}\n            />\n          </div>\n        )}\n\n        <div\n          className={classNames(\n            'App__content',\n            { 'App__content--empty': !selectedPostId },\n          )}\n        >\n          { selectedPostId && (\n            <PostDetails\n              selectedPostId={selectedPostId}\n              setSelectedPostId={setSelectedPostId}\n            />\n          )}\n        </div>\n\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}