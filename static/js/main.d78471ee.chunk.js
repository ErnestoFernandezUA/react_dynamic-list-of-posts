(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(6),c=s.n(n),a=s(4),o=s(3),r=s(2),i=s.n(r),l=s(1),u=(s(13),s(14),s(7)),j=s.n(u),d=(s(15),s(0)),b=function(e){var t=e.postsList,s=e.selectedPostId,n=e.downLoadComments,c=e.downloadPostDetails;return Object(d.jsxs)("div",{className:"PostsList",children:[Object(d.jsx)("h2",{children:"Posts:"}),Object(d.jsx)("p",{children:"Count posts: ".concat(t.length)}),Object(d.jsx)("ul",{className:"PostsList__list",children:t.map((function(e){return Object(d.jsxs)("li",{className:j()("PostsList__item",{"PostsList__item--active":e.id===s}),"data-cy":"postDetails",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"[User #".concat(e.userId,"]: ")}),e.id,":",e.title]}),Object(d.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return t=e.id,n(t),void c(t);var t},children:s===e.id?"Close":"Open"})]},e.id)}))})]})},p=(s(17),function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)("div",{className:"Loader__content"})})}),m=(s(18),function(){return Object(d.jsxs)("form",{className:"NewCommentForm",action:"",method:"",children:[Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input"})}),Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input"})}),Object(d.jsx)("div",{className:"form-field",children:Object(d.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input NewCommentForm__input--textarea"})}),Object(d.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})}),h=(s(19),function(e){var t=e.postComments,s=e.postDetails,n=Object(l.useState)(!0),c=Object(o.a)(n,2),a=c[0],r=c[1],i=t.length,u=!s.title,j=!t;return Object(d.jsxs)("div",{className:"PostDetails",children:[Object(d.jsx)("h2",{children:"Post details:"}),Object(d.jsxs)("section",{className:"PostDetails__post",children:[u&&Object(d.jsx)(p,{}),Object(d.jsx)("p",{children:s.title})]}),Object(d.jsxs)("section",{className:"PostDetails__comments",children:[j&&Object(d.jsx)(p,{}),Object(d.jsx)("button",{type:"button",className:"PostDetails__button button",onClick:function(){return r(!a)},children:a?"Hide ".concat(i," comments"):"Show comments"}),a&&Object(d.jsx)("ul",{className:"PostDetails__list","data-cy":"postList",children:t.map((function(e){return Object(d.jsxs)("li",{className:"PostDetails__list-item",children:[Object(d.jsx)("button",{type:"button",className:"PostDetails__remove-button button",formMethod:"DELETE",children:"X"}),Object(d.jsx)("p",{children:e.body})]},e.id)}))})]}),Object(d.jsx)("section",{children:Object(d.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(d.jsx)(m,{post:s})})})]})}),O="https://mate.academy/students-api",x=function(){var e=Object(a.a)(i.a.mark((function e(t){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(O).concat(t)),e.next=3,fetch("".concat(O).concat(t));case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject("".concat(n.status," - ").concat(n.statusText)));case 6:if(null!==(s=n.headers.get("content-type"))&&void 0!==s&&s.includes("application/json")){e.next=8;break}return e.abrupt("return",Promise.reject("Content-type is not supported"));case 8:return e.abrupt("return",n.json());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return x("All"===e?"/posts":"/posts?userId=".concat(e))},v=function(e){return x("/posts/".concat(e))},_={id:"",userId:"",title:"",body:"",createdAt:"",updatedAt:""},N=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(l.useState)(""),r=Object(o.a)(c,2),u=r[0],j=r[1],m=Object(l.useState)(""),O=Object(o.a)(m,2),N=O[0],y=O[1],w=Object(l.useState)(_),P=Object(o.a)(w,2),C=P[0],D=P[1],L=Object(l.useState)([]),k=Object(o.a)(L,2),A=k[0],g=k[1],S=Object(l.useState)(!1),F=Object(o.a)(S,2),I=F[0],E=F[1],T=Object(l.useState)(!1),G=Object(o.a)(T,2),U=G[0],B=G[1],H=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),E(!0),e.prev=2,u===t){e.next=12;break}return e.next=6,f(t);case 6:s=e.sent,y(""),D({id:"",userId:"",title:"",body:"",createdAt:"",updatedAt:""}),j(t),n(s),E(!1);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),E(!1),console.log("error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,console.log(t),e.next=5,v(t);case 5:s=e.sent,D(s),B(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),B(!1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N!==t){e.next=4;break}y(""),e.next=9;break;case 4:return e.next=6,x("/comments?postId=".concat(t));case 6:s=e.sent,y(t),g(s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App__header",children:Object(d.jsxs)("label",{children:["Select a user: \xa0",Object(d.jsxs)("select",{className:"App__user-selector",defaultValue:"DEFAULT",onChange:function(e){return H(e.target.value)},children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Choose..."}),Object(d.jsx)("option",{value:"All",children:"All users"}),Object(d.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(d.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(d.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(d.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(d.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(d.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(d.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(d.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(d.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(d.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})}),Object(d.jsxs)("main",{className:"App__main",children:[u&&Object(d.jsx)("div",{className:"App__sidebar",children:I?Object(d.jsx)(p,{}):Object(d.jsx)(b,{postsList:s,selectedPostId:N,downloadPostDetails:J,downLoadComments:M})}),C.id&&Object(d.jsx)("div",{className:"App__content",style:{visibility:"".concat(N?"visible":"hidden")},children:U?Object(d.jsx)("div",{children:Object(d.jsx)(p,{})}):Object(d.jsx)(h,{postComments:A,postDetails:C})})]})]})};c.a.render(Object(d.jsx)(N,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.d78471ee.chunk.js.map